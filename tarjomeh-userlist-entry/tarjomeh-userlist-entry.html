<link rel="import" href="../bower_components/polymer/polymer.html">

<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/iron-icons/social-icons.html">
<link rel="import" href="../bower_components/iron-icons/hardware-icons.html">
<link rel="import" href="../bower_components/iron-flex-layout/classes/iron-flex-layout.html">
<link rel="import" href="../app-theme.html">

<dom-module id="tarjomeh-userlist-entry">

  <template>

    <style>
      :host {
        display: inline-block;
        box-sizing: border-box;
        padding: 16px;
        width: 100%;
      }
      
      :host:hover {
        background-color: #f5f5f5;
      }
      
      .avatar {
		    border-radius: 50%;
		    width: 40px;
		    height: 40px;
  	    margin: 0 16px 0 0;
		    background: #9e9e9e center center no-repeat;
		    background-size: contain;
		    position: relative;
	    }
	    
	    .name {
	      font-size: 16px;
	    }
	    
	    .language {
	       color: var(--secondary-text-color);
	    }
    </style>
    
    <div class="layout horizontal">
      <div class="avatar" style$="[[_computeImgStyle(imageUrl)]]"></div>
      <div class="flex">
        <div class="name">[[username]]</div>
        <div class="flex"></div>
        <div class="language">
          <iron-icon icon="language"></iron-icon>
          <template is="dom-repeat" items="[[nativeLanguages]]" as="nativeLanguage">
            <span>[[nativeLanguage.name]]</span>
          </template>
          <iron-icon icon="social:school"></iron-icon>
          <template is="dom-repeat" items="[[learningLanguages]]" as="learningLanguage">
            <span>[[learningLanguage.name]]</span>
          </template>
        </div>
      </div>
      <div>
        <iron-icon icon="hardware:keyboard-arrow-down"></iron-icon>
      </div>
    </div>
  </template>

  <script>
    Polymer({
      is: "tarjomeh-userlist-entry",
      properties: {
        username: {
          type: String,
          value: 'unknown user'
        },
        imageUrl: {
          type: String,
          value: ''
        },
        nativeLanguages: {
          type: Array,
          value: [{name: 'no languages specified yet'}]
        },
        learningLanguages: {
          type: Array,
          value: [{name: 'no languages specified yet'}]
        }
      },
      
      _computeImgStyle : function(imageUrl) {
        return 'background-image: url(' + imageUrl + ')';
      }
    });
  </script>

</dom-module>